CREATE TABLE Users (
    Id INT PRIMARY KEY IDENTITY,
    FullName NVARCHAR(100) NOT NULL,
    Email NVARCHAR(255) UNIQUE NOT NULL CHECK (Email LIKE '_%@_%._%'),
    PhoneNumber CHAR(10) NOT NULL CHECK (PhoneNumber LIKE '[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]'),
    IsActive BIT NOT NULL DEFAULT 1
);

CREATE TABLE Rooms (
    Id INT PRIMARY KEY IDENTITY,
    RoomNumber NVARCHAR(50) UNIQUE NOT NULL,
    Capacity INT NOT NULL CHECK (Capacity > 0),
    PricePerNight DECIMAL(18,2) NOT NULL CHECK (PricePerNight >= 0)
);

CREATE TABLE Reservations (
    Id INT PRIMARY KEY IDENTITY,
    RoomId INT NOT NULL,
    UserId INT NOT NULL,
    CheckInDate DATETIME NOT NULL,
    CheckOutDate DATETIME NOT NULL,
    BreakfastIncluded BIT NOT NULL DEFAULT 0,
    AllInclusive BIT NOT NULL DEFAULT 0,
    TotalPrice DECIMAL(18,2) NOT NULL CHECK (TotalPrice >= 0),
    CONSTRAINT FK_Reservations_Rooms FOREIGN KEY (RoomId) REFERENCES Rooms(Id),
    CONSTRAINT FK_Reservations_Users FOREIGN KEY (UserId) REFERENCES Users(Id),
    CONSTRAINT CHK_CheckOutDate CHECK (CheckOutDate > CheckInDate)
);

CREATE TABLE Clients (
    Id INT PRIMARY KEY IDENTITY,
    FullName NVARCHAR(100) NOT NULL,
    Email NVARCHAR(255) UNIQUE NOT NULL CHECK (Email LIKE '_%@_%._%'),
    PhoneNumber CHAR(10) NOT NULL CHECK (PhoneNumber LIKE '[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]')
);
